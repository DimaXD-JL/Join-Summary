<div class="loginFrame">
  <div class="signin" [@fadeInUp]="isSuccess ? 'visible' : 'hidden'">
    <img class="blueline" src="/assets/img/signin_success.png" alt="success" />
  </div>
  <div class="arrowBack">
    <a routerLink="login"><img src="/assets/icons/arrow-left-line.png" alt="arrowBack"></a>
  </div>
    <h2>Sign up</h2>
    <img class="blueline" src="/assets/icons/blueLine.png" alt="blueline" class="blueline">
    
    <form (submit)="register(); $event.preventDefault()">
    <div class="emailRaw">
      <input 
        class="custom-input" 
        type="name" 
        [(ngModel)]="name" 
        [ngModelOptions]="{standalone: true}" placeholder="Name" 
        required 
        (blur)="validateName()" 
        [ngClass]="{'error-border': emailError && emailTouched}" 
        (focus)="emailTouched = true" 
      />
      <img src="/assets/icons/person.png" alt="lock" class="lock">
      <div *ngIf="nameError" class="error-message">{{ nameError }}</div>
    </div>
    <div class="emailRaw">
      <input 
        class="custom-input" 
        type="email" 
        [(ngModel)]="email" 
        [ngModelOptions]="{standalone: true}" 
        placeholder="E-Mail" 
        required 
        (blur)="validateEmail()" 
        [ngClass]="{'error-border': emailError && emailTouched}" 
        (focus)="emailTouched = true"
      />
      <img src="/assets/icons/mail.png" alt="mailIcon" class="mailIcon">
      <div *ngIf="emailError" class="error-message">{{ emailError }}</div>
    </div>
    <div class="emailRaw">
      <input
        class="custom-input"
        [type]="showPassword ? 'text' : 'password'"
        [(ngModel)]="password"
        [ngModelOptions]="{standalone: true}"
        placeholder="Passwort"
        required
        (blur)="validatePassword()"
        (focus)="passwordTouched = true"
        [ngClass]="{'error-border': emailError && emailTouched}"
      />
      <img
        src="/assets/icons/lock.png"
        alt="lock"
        class="lock"
        *ngIf="!passwordTouched"
      />
      <img
        src="/assets/icons/visibility_off.png"
        alt="visibility_off"
        class="lock"
        *ngIf="passwordTouched && !showPassword"
        (click)="togglePasswordVisibility()"
      />
      <img
        src="/assets/icons/visibility.png"
        alt="visibility"
        class="lock"
        *ngIf="passwordTouched && showPassword"
        (click)="togglePasswordVisibility()"
      />
      <div *ngIf="passwordError" class="error-message">{{ passwordError }}</div>
    </div>
    <div class="emailRaw">
      <input 
        class="custom-input" 
        [type]="showPassword ? 'text' : 'password'" 
        [(ngModel)]="confirm" 
        [ngModelOptions]="{standalone: true}" 
        placeholder="Passwort bestÃ¤tigen" 
        required 
        (blur)="validateConfirm()" 
        [ngClass]="{'error-border': emailError && emailTouched}" 
        (focus)="passwordTouched = true"
      />
      <img
        src="/assets/icons/lock.png"
        alt="lock"
        class="lock"
        *ngIf="!passwordTouched"
      />
      <img
        src="/assets/icons/visibility_off.png"
        alt="visibility_off"
        class="lock"
        *ngIf="passwordTouched && !showPassword"
        (click)="togglePasswordVisibility()"
      />
      <img
        src="/assets/icons/visibility.png"
        alt="visibility"
        class="lock"
        *ngIf="passwordTouched && showPassword"
        (click)="togglePasswordVisibility()"
      />
      <div *ngIf="confirmError" class="error-message">{{ confirmError }}</div>
    </div>
      
    <div class="acceptRow">
      <input 
        type="checkbox" 
        [(ngModel)]="accept" 
        [ngModelOptions]="{standalone: true}" 
        required 
      />
      <p>I accept the <a routerLink="privacypolicy">Privacy policy</a></p>
    </div>
    <div *ngIf="acceptError" class="error-message">{{ acceptError }}</div>
    <div class="button">
      <button class="btn" type="submit">Sign up</button>
    </div>
    </form>
    </div>
